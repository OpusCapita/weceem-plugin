<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>Weceem Documentation 1.4-SNAPSHOT</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass(el) {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">

<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/1.Introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/2.ConfigurationAndInstallation.html"><strong>2</strong><span>Configuration and installation</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/3.GeneralBehaviourAndConcepts.html"><strong>3</strong><span>General behaviour and concepts</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/4.UsersGuide.html"><strong>4</strong><span>User Guide</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/5.WeceemSecuritPolicy.html"><strong>5</strong><span>Weceem security policy</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/customization.html"><strong>6</strong><span>Developer Guide</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>jCatalog Software AG</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="reference corner-all">

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                <h4>Purpose</h4><p class="paragraph"/>The menu tag will render simple HTML menus for a part of your content repository.<p class="paragraph"/><strong class="bold">Example</strong><p class="paragraph"/>An example of the simplest usage to render a menu for the top two levels of your site is<p class="paragraph"/><div class="code"><pre>&#60;wcm:menu/&#62;</pre></div><p class="paragraph"/>This will render nested <code>&#60;ul&#62;</code> and <code>&#60;li&#62;</code> tags for the HTML content of the top two levels of your site. It automatically applies CSS classes to indicate the level of depth and whether the item is first, last and/or active.<p class="paragraph"/>You can use these CSS classes to style the menu any way you like. However if you want different HTML markup you can also completely customize the rendering of every item by supplying a custom body to the tag.<p class="paragraph"/><h4>Description</h4><p class="paragraph"/>The supported attributes are:
<ul class="star">
<li>activeClass - CSS class to apply when the node being rendered is the "active" node i.e. the current page. Defaults to "weceem-menu-active"</li>
<li>firstClass - CSS class to apply to the first menu item at each level. Defaults to "weceem-menu-first"</li>
<li>lastClass - CSS class to apply to the last menu item at each level. Defaults to "weceem-menu-last"</li>
<li>levelClassPrefix - CSS class prefix to apply to each item, with the current level nesting depth appended after. Default is "weceem-menu-level" so the HTML output includes the CSS classes weceem-menu-level0 and weceem-menu-level1 for example.</li>
<li>custom - set to true to perform custom rendering of the menu items (see below)</li>
<li>levels - number of levels to recurse - how deep you want your menu. Defaults to 2.</li>
<li>path - URI path or node to form the base of the menu. Defaults to the root of the repository.</li>
<li>siblings - whether or not to include the siblings at the top level of the menu. Defaults to true.</li>
<li>types - list of content types to include in the menu. Defaults to org.weceem.html.WcmHTMLContent but you could change this e.g. to include blogs by setting types="org.weceem.html.WcmHTMLContent,org.weceem.blog.Blog"</li>
</ul><p class="paragraph"/>To perform a custom rendering, you supply a body to the tag and use GSP syntax to render whatever markup you like. A range of variables are passed to the body.<p class="paragraph"/><strong class="bold">Example</strong><p class="paragraph"/><div class="code"><pre>&#60;wcm:menu levels=<span class="java&#45;quote">"2"</span> custom=<span class="java&#45;quote">"<span class="java&#45;keyword">true</span>"</span>&#62;
  &#60;g:<span class="java&#45;keyword">if</span> test=<span class="java&#45;quote">"$&#123;first&#125;"</span>&#62;
    &#60;ul class=<span class="java&#45;quote">"$&#123;level == 0 ? 'sf&#45;menu sf&#45;navbar' : ''&#125;"</span>&#62;
  &#60;/g:<span class="java&#45;keyword">if</span>&#62;
  &#60;li class=<span class="java&#45;quote">"$&#123;active ? 'current' : ''&#125;"</span>&#62;&#60;a href=<span class="java&#45;quote">"$<div class="</span>error<span class="java&#45;quote">">link: link needs a name and a url as argument: txt=<span class="java&#45;keyword">null</span> url=<span class="java&#45;keyword">null</span></div>"</span>&#62;$&#123;menuNode.titleForMenu.encodeAsHTML()&#125;&#60;/a&#62;
    $&#123;nested&#125;
  &#60;/li&#62;
  &#60;g:<span class="java&#45;keyword">if</span> test=<span class="java&#45;quote">"$&#123;last&#125;"</span>&#62;
    &#60;/ul&#62;
  &#60;/g:<span class="java&#45;keyword">if</span>&#62;
&#60;/wcm:menu&#62;</pre></div><p class="paragraph"/>The body is called once for every item in the menu, no matter what depth. The body needs to use the value of the variables to render the correct information based on the current depth, node and first/last/active values.<p class="paragraph"/>Available variables are:
<ul class="star">
<li>nested - content to render for the nested items. You must output this where children of the current menu item you are rendering should be shown.</li>
<li>link - URL of the node the menu item relates to</li>
<li>active - true if current menu item is the page being viewed by the user</li>
<li>first - true if current menu item is the first at this level of nesting</li>
<li>last - true if current menu item is the last at this level of nesting</li>
<li>menuNode - content node relating to this menu item</li>
<li>level - current nesting level, starts at zero</li>
<li>levels - number of levels left to render below this current level</li>
<li>levelClassPrefix - prefix to apply to any CSS class indicating the current nesting level. Defaults to "weceem-menu-level"</li>
<li>activeClass - CSS class to apply to active items</li>
<li>firstClass - CSS class to apply to the first item at each level</li>
<li>lastClass - CSS class to apply to the last item at each level</li>
</ul><p class="paragraph"/>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block">
                        <h1 class="menu-title" onclick="toggleRef(nextElement(this))">Domain</h1>
                        <div class="menu-sub">
                            
                            
                            <div class="menu-item"><a href="../../ref/Domain/attach.html">attach</a>
                            </div>
                            
                        </div>
                    </div>
                    
                    <div class="menu-block">
                        <h1 class="menu-title" onclick="toggleRef(nextElement(this))">Tags</h1>
                        <div class="menu-sub selected">
                            
                            
                            <div class="menu-item"><a href="../../ref/Tags/ancestorOfType.html">ancestorOfType</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/archiveList.html">archiveList</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/breadcrumb.html">breadcrumb</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/cache.html">cache</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/content.html">content</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/contentIconURL.html">contentIconURL</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/countChildren.html">countChildren</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/createFeedLink.html">createFeedLink</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/createLink.html">createLink</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/createSearchLink.html">createSearchLink</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/dataFeed.html">dataFeed</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/date.html">date</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/eachChild.html">eachChild</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/eachComment.html">eachComment</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/eachContent.html">eachContent</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/eachParent.html">eachParent</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/eachSibling.html">eachSibling</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/feedLink.html">feedLink</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/find.html">find</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/findNode.html">findNode</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/htmlToText.html">htmlToText</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/ifContentIs.html">ifContentIs</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/ifContentIsNot.html">ifContentIsNot</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/ifUserCanEdit.html">ifUserCanEdit</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/ifUserCanView.html">ifUserCanView</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/join.html">join</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/link.html">link</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/loggedInEmail.html">loggedInEmail</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/loggedInUserName.html">loggedInUserName</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/menu.html">menu</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/monthNames.html">monthNames</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/render.html">render</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/renderContentItemIcon.html">renderContentItemIcon</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/resource.html">resource</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/search.html">search</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/searchLink.html">searchLink</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/space.html">space</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/submitContentForm.html">submitContentForm</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/submitContentLink.html">submitContentLink</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/summarize.html">summarize</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/uiMessage.html">uiMessage</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/userInfo.html">userInfo</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/widget.html">widget</a>
                            </div>
                            
                        </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    jCatalog Software AG
    
</div>


<script type="text/javascript" src="../../js/docs.js"></script>

</body>
</html>
