<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>6.3 Custom content editors 1.4-SNAPSHOT</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/1.Introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/2.ConfigurationAndInstallation.html"><strong>2</strong><span>Configuration and installation</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/3.GeneralBehaviourAndConcepts.html"><strong>3</strong><span>General behaviour and concepts</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/4.UsersGuide.html"><strong>4</strong><span>User Guide</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/5.WeceemSecuritPolicy.html"><strong>5</strong><span>Weceem security policy</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/customization.html"><strong>6</strong><span>Developer Guide</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>jCatalog Software AG</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../../guide/5.WeceemSecuritPolicy.html">&lt;&lt; <strong>5</strong><span>Weceem security policy</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                


                <div class="project">
                    <h1>6.3 Custom content editors - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Stephan Albers, Mark Palmer, July Antonicheva</p>

                    <p><strong>Version:</strong> 1.4-SNAPSHOT</p>

                    
                </div>

                

                

<h2 id="2.CustomContentEditors">6.3 Custom content editors</h2>
As mentioned in the create custom content type section, you can specify what kind of editor is used for each property of content types. By following some simple procedure, you can also create your own new editors.<p class="paragraph"/>Weceem will locate the appropriate editor using the name of the type of the property, if a custom property editor name is not given.<p class="paragraph"/><h4> Content Editors</h4><p class="paragraph"/>Weceem has quite a few editors that are available to edit all the predefined content type properties.<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Editor Field Name</strong></th><th><strong class="bold">Description</strong></th></tr><tr class="table-odd"><td>String</td><td>for single-line strings</td></tr><tr class="table-even"><td>LongString</td><td>for multi-line strings</td></tr><tr class="table-odd"><td>Integer</td><td>for whole numbers</td></tr><tr class="table-even"><td>Boolean</td><td>for boolean fields</td></tr><tr class="table-odd"><td>Date</td><td>for dates, includes datepicker and HH and MM fields</td></tr><tr class="table-even"><td>Title</td><td>uses a larger font for editing the title</td></tr><tr class="table-odd"><td>Tags</td><td>UI for displaying and add/remove tags via ajax</td></tr><tr class="table-even"><td>ContentFileUpload</td><td>renders a file upload field or file information if already uploaded</td></tr><tr class="table-odd"><td>RichHTML</td><td>HTML editing with rich editor</td></tr><tr class="table-even"><td>HTMLContent</td><td>HTML content editor that checks allowGSP property on content and switches between RichHTML and HtmlCode as appropriate</td></tr><tr class="table-odd"><td>HtmlCode</td><td>Code editor with highlighting for HTML</td></tr><tr class="table-even"><td>JSCode</td><td>Code editor with highlighting for JavaScript</td></tr><tr class="table-odd"><td>GroovyCode</td><td>Code editor with highlighting for Groovy code</td></tr><tr class="table-even"><td>CSSCode</td><td>Code editor with highlighting for CSS code</td></tr><tr class="table-odd"><td>LanguageList</td><td>a language selection drop-down list</td></tr><tr class="table-even"><td>WcmScript</td><td>For selecting any WcmScript node in the current space</td></tr><tr class="table-odd"><td>WcmStatus</td><td>For selecting any WcmStatus instance</td></tr><tr class="table-even"><td>WcmTemplate</td><td>For selecting any WcmTemplate instance in the current space</td></tr><tr class="table-odd"><td>WcmSpace</td><td>For selecting a Space</td></tr><tr class="table-even"><td>ReadOnly</td><td>a text-only rendering of the value with no editing capability</td></tr><tr class="table-odd"><td>ReadOnlyURI</td><td>a text-only URI value, using URL encoding of restricted chars</td></tr><tr class="table-even"><td>ReadOnlyDate</td><td>a read-only display of a date</td></tr></table><p class="paragraph"/><h4> Writing your own content editor</h4><p class="paragraph"/>Creating a custom editor is simply a case of defining one or two Grails tags in the "wcm" namespace.<p class="paragraph"/>Editors are resolved by looking for a tag with the target editor name appended to "wcm:editorField". So for example a new editor for choosing a colour might be called Colour and the tag would be called "editorFieldColour" :<p class="paragraph"/><div class="code"><pre>class MyWeceemTagLib &#123;
    <span class="java&#45;keyword">static</span> namespace = <span class="java&#45;quote">"wcm"</span><p class="paragraph"/>def editorFieldColour = &#123; attrs &#45;&#62; 
          out &#60;&#60; someFancyColourPicker(pageScope.content&#91;attrs.property&#93;)
    &#125;
&#125;</pre></div><p class="paragraph"/>These tags are called with the following attributes:
<ul class="star">
<li>property - property name of the content object for which the tag should render a field</li>
</ul><p class="paragraph"/>Your tags can access the current content object being edited using :<p class="paragraph"/><div class="code"><pre>pageScope.content&#91;attrs.property&#93;</pre></div><p class="paragraph"/>In the above example,  you would not need to specify editor:'Colour' on your custom content classes if the property type is actually an instance of a Colour class.<p class="paragraph"/><strong class="bold">Note :</strong> Polymorphism is not yet supported in this scenario so only exact class matches will work.<p class="paragraph"/><h4> Providing resources needed by custom editors</h4><p class="paragraph"/>Some editors - e.g. the FCK and code editors used by Weceem, require JavaScript and CSS resources to be included in the &#60;head&#62; section of the editor page. To achieve this, Weceem looks for a tag with a name like "wcm:editorResourcesColour" where the type name is appended to "editorResources". This tag can output anything you like into the &#60;head&#62; section of the page:<p class="paragraph"/><div class="code"><pre>def editorResourcesTags = &#123; attrs &#45;&#62;
        out &#60;&#60; g.render(template:'/editors/tags_resources', plugin:'weceem', 
            model:&#91;name:attrs.property, value:pageScope.content&#91;attrs.property&#93;&#93;)
    &#125;</pre></div><p class="paragraph"/>Here, the Tags editor uses another GSP to output the more complex resource elements it requires, setting up JS code in the &#60;head&#62; section to bind add/remove buttons using jQuery.<p class="paragraph"/>


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../../guide/5.WeceemSecuritPolicy.html">&lt;&lt; <strong>5</strong><span>Weceem security policy</span></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Domain</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../../ref/Domain/attach.html">attach</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Tags</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../../ref/Tags/ancestorOfType.html">ancestorOfType</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/archiveList.html">archiveList</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/breadcrumb.html">breadcrumb</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/cache.html">cache</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/content.html">content</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/contentIconURL.html">contentIconURL</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/countChildren.html">countChildren</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/createFeedLink.html">createFeedLink</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/createLink.html">createLink</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/createSearchLink.html">createSearchLink</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/dataFeed.html">dataFeed</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/date.html">date</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/eachChild.html">eachChild</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/eachComment.html">eachComment</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/eachContent.html">eachContent</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/eachParent.html">eachParent</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/eachSibling.html">eachSibling</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/feedLink.html">feedLink</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/find.html">find</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/findNode.html">findNode</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/htmlToText.html">htmlToText</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/ifContentIs.html">ifContentIs</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/ifContentIsNot.html">ifContentIsNot</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/ifUserCanEdit.html">ifUserCanEdit</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/ifUserCanView.html">ifUserCanView</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/join.html">join</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/link.html">link</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/loggedInEmail.html">loggedInEmail</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/loggedInUserName.html">loggedInUserName</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/menu.html">menu</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/monthNames.html">monthNames</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/render.html">render</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/renderContentItemIcon.html">renderContentItemIcon</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/resource.html">resource</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/search.html">search</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/searchLink.html">searchLink</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/space.html">space</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/submitContentForm.html">submitContentForm</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/submitContentLink.html">submitContentLink</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/summarize.html">summarize</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/uiMessage.html">uiMessage</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/userInfo.html">userInfo</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/widget.html">widget</a>
                            </div>
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    jCatalog Software AG
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
